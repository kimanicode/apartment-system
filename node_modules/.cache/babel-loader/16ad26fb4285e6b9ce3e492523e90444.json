{"ast":null,"code":"import _regeneratorRuntime from\"/home/kimani/Desktop/Grace/homez/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/kimani/Desktop/Grace/homez/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/kimani/Desktop/Grace/homez/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./login.css';import{useNavigate,Navigate}from'react-router-dom';import{signInWithEmailAndPassword,onAuthStateChanged,signOut}from'firebase/auth';import{auth}from'../../firebase-config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var navigate=useNavigate();var navigateToRegister=function navigateToRegister(){// ðŸ‘‡ï¸ navigate to /register\nnavigate('/register');};var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),loginEmail=_useState2[0],setLoginEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),loginPassword=_useState4[0],setLoginPassword=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),user=_useState6[0],setUser=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];//   onAuthStateChanged(auth ,(currentUser)=>{\n//     setUser(currentUser);\n// })\nvar login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var _user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;e.preventDefault();_context.next=4;return signInWithEmailAndPassword(auth,loginEmail,loginPassword);case 4:_user=_context.sent;navigate(\"/\");console.log(_user);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);setError(true);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function login(_x){return _ref.apply(this,arguments);};}();// const logout = async () =>{\n//   await signOut(auth);\n// }\n// onAuthStateChanged(auth, (User) => {\n// });\nvar RequireAuth=function RequireAuth(_ref2){var children=_ref2.children;return user?children:/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});};return/*#__PURE__*/_jsxs(\"div\",{className:\" inputs\",children:[/*#__PURE__*/_jsx(\"h3\",{id:\"signer\",children:\"Sign in to account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"in-4\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Enter your email\",onChange:function onChange(event){setLoginEmail(event.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Enter your email\",onChange:function onChange(event){setLoginPassword(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{id:\"loginBtn\",onClick:login,children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{id:\"regBtn\",onClick:navigateToRegister,children:\"  Create new account?\"}),error&&/*#__PURE__*/_jsx(\"h4\",{children:\"Wrong email or password\"})]})]});}export default Login;","map":{"version":3,"names":["React","useState","useNavigate","Navigate","signInWithEmailAndPassword","onAuthStateChanged","signOut","auth","Login","navigate","navigateToRegister","loginEmail","setLoginEmail","loginPassword","setLoginPassword","user","setUser","error","setError","login","e","preventDefault","console","log","RequireAuth","children","event","target","value"],"sources":["/home/kimani/Desktop/Grace/homez/src/components/login/Login.js"],"sourcesContent":["import React, {useState} from 'react'\nimport './login.css'\nimport {useNavigate ,Navigate} from 'react-router-dom'\nimport {signInWithEmailAndPassword,\n  onAuthStateChanged,\n  signOut\n} from 'firebase/auth'\nimport {auth} from '../../firebase-config'\n\n\n\nfunction Login() {\n  const navigate = useNavigate();\n\n  const navigateToRegister = () => {\n    // ðŸ‘‡ï¸ navigate to /register\n    navigate('/register');\n  };\n\n    const [loginEmail, setLoginEmail] = useState(\"\")\n    const [loginPassword, setLoginPassword] = useState(\"\")\n    const [user , setUser] = useState({})\n    const [error ,setError] = useState(false)\n\n\n  //   onAuthStateChanged(auth ,(currentUser)=>{\n  //     setUser(currentUser);\n  // })\n  \n\n\n    const login  = async (e) =>{\n      try\n       {   e.preventDefault()\n          const user = await signInWithEmailAndPassword(auth,loginEmail,loginPassword)\n          navigate(\"/\")\n          console.log(user)\n      }\n      catch(error){\n          setError(true)\n      }\n      \n  };\n\n  // const logout = async () =>{\n  //   await signOut(auth);\n  // }\n  // onAuthStateChanged(auth, (User) => {\n    \n    \n\n    \n  // });\n\n\n  const RequireAuth = ({children}) =>{\n    return user ? children : <Navigate to = '/login' />\n  }\n\n\n  return (\n    <div className=' inputs'>\n      <h3 id='signer'>Sign in to account</h3>\n      <div className='in-4'>\n        <label>Email</label>\n        <input type='email' placeholder='Enter your email'  onChange={(event)=>{\n          setLoginEmail(event.target.value)\n       }}/>\n        <label>Password</label>\n        <input type='password' placeholder='Enter your email'\n        onChange={(event)=>{\n          setLoginPassword(event.target.value)\n       }} />\n\n        <button id='loginBtn' onClick={login}>Login</button>\n\n        <button id='regBtn' onClick={navigateToRegister}>  Create new account?</button>\n\n        {error && <h4>Wrong email or password</h4> } \n\n\n      </div> \n\n    </div>\n  )\n}\n\nexport default Login"],"mappings":"kXAAA,MAAOA,MAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAO,aAAP,CACA,OAAQC,WAAR,CAAqBC,QAArB,KAAoC,kBAApC,CACA,OAAQC,0BAAR,CACEC,kBADF,CAEEC,OAFF,KAGO,eAHP,CAIA,OAAQC,IAAR,KAAmB,uBAAnB,C,wFAIA,QAASC,MAAT,EAAiB,CACf,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CAEA,GAAMQ,mBAAkB,CAAG,QAArBA,mBAAqB,EAAM,CAC/B;AACAD,QAAQ,CAAC,WAAD,CAAR,CACD,CAHD,CAKE,cAAoCR,QAAQ,CAAC,EAAD,CAA5C,wCAAOU,UAAP,eAAmBC,aAAnB,eACA,eAA0CX,QAAQ,CAAC,EAAD,CAAlD,yCAAOY,aAAP,eAAsBC,gBAAtB,eACA,eAAyBb,QAAQ,CAAC,EAAD,CAAjC,yCAAOc,IAAP,eAAcC,OAAd,eACA,eAA0Bf,QAAQ,CAAC,KAAD,CAAlC,yCAAOgB,KAAP,eAAcC,QAAd,eAGF;AACA;AACA;AAIE,GAAMC,MAAK,4FAAI,iBAAOC,CAAP,8IAERA,CAAC,CAACC,cAAF,GAFQ,sBAGUjB,2BAA0B,CAACG,IAAD,CAAMI,UAAN,CAAiBE,aAAjB,CAHpC,QAGHE,KAHG,eAITN,QAAQ,CAAC,GAAD,CAAR,CACAa,OAAO,CAACC,GAAR,CAAYR,KAAZ,EALS,+EAQTG,QAAQ,CAAC,IAAD,CAAR,CARS,oEAAJ,kBAALC,MAAK,4CAAX,CAaF;AACA;AACA;AACA;AAKA;AAGA,GAAMK,YAAW,CAAG,QAAdA,YAAc,OAAe,IAAbC,SAAa,OAAbA,QAAa,CACjC,MAAOV,KAAI,CAAGU,QAAH,cAAc,KAAC,QAAD,EAAU,EAAE,CAAG,QAAf,EAAzB,CACD,CAFD,CAKA,mBACE,aAAK,SAAS,CAAC,SAAf,wBACE,WAAI,EAAE,CAAC,QAAP,gCADF,cAEE,aAAK,SAAS,CAAC,MAAf,wBACE,gCADF,cAEE,cAAO,IAAI,CAAC,OAAZ,CAAoB,WAAW,CAAC,kBAAhC,CAAoD,QAAQ,CAAE,kBAACC,KAAD,CAAS,CACrEd,aAAa,CAACc,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAb,CACF,CAFA,EAFF,cAKE,mCALF,cAME,cAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,kBAAnC,CACA,QAAQ,CAAE,kBAACF,KAAD,CAAS,CACjBZ,gBAAgB,CAACY,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAhB,CACF,CAHA,EANF,cAWE,eAAQ,EAAE,CAAC,UAAX,CAAsB,OAAO,CAAET,KAA/B,mBAXF,cAaE,eAAQ,EAAE,CAAC,QAAX,CAAoB,OAAO,CAAET,kBAA7B,mCAbF,CAeGO,KAAK,eAAI,+CAfZ,GAFF,GADF,CAyBD,CAED,cAAeT,MAAf"},"metadata":{},"sourceType":"module"}